DROP DATABASE IF EXISTS DBACADEMIA;
CREATE DATABASE DBACADEMIA;
USE DBACADEMIA;


CREATE TABLE ENDERECO(
ID INT NOT NULL AUTO_INCREMENT
, ESTADO CHAR(2)
, CIDADE VARCHAR(250)
, BAIRRO VARCHAR(250)
, RUA VARCHAR(250)
, NUERO INT
, COMPLEMENTO VARCHAR(10)
, CEP VARCHAR(8)
, PRIMARY KEY(ID)
);

CREATE TABLE CARGO (
ID INT NOT NULL AUTO_INCREMENT
, DESCRICAO VARCHAR(12)
, PRIMARY KEY(ID)
);

CREATE TABLE FUNCIONARIO (
ID INT NOT NULL AUTO_INCREMENT
, ID_ENDERECO INT 
, ID_CARGO INT
, CPF VARCHAR(11)
, NOME VARCHAR(250)
, MATRICULA INT
, TELEFONE VARCHAR(11)
, DT_NASCIMENTO DATE
, EMAIL VARCHAR(100)
, SENHA VARCHAR(4)
, VALOR DOUBLE
, DT_CADASTRO DATETIME
, DT_EXPIRACAO DATETIME
, PRIMARY KEY(ID)
, FOREIGN KEY (ID_ENDERECO) REFERENCES ENDERECO(ID)
, FOREIGN KEY (ID_CARGO) REFERENCES CARGO(ID)
);


CREATE TABLE CLIENTE(
ID INT NOT NULL AUTO_INCREMENT
, ID_ENDERECO INT 
, CPF VARCHAR(11)
, NOME VARCHAR(250)
, MATRICULA INT
, TELEFONE VARCHAR(11)
, DT_NASCIMENTO DATE
, EMAIL VARCHAR(100)
, SENHA VARCHAR(4)
, DT_CADASTRO DATETIME
, DT_EXPIRACAO DATETIME
, PRIMARY KEY(ID)
, FOREIGN KEY (ID_ENDERECO) REFERENCES ENDERECO(ID)
);


CREATE TABLE TREINO(
ID INT NOT NULL AUTO_INCREMENT
, ID_CLIENTE INT
, TREINO_A TEXT
, TREINO_B TEXT
, TREINO_C TEXT
, TREINO_D TEXT
, TREINO_E TEXT
, PRIMARY KEY(ID)
, FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID)
);


CREATE TABLE AGENDAMENTO(
ID INT NOT NULL AUTO_INCREMENT
, ID_CLIENTE INT
, ID_FUNCIONARIO INT 
, DATAHORA_INICIO DATETIME
, DATAHORA_FINAL DATETIME
, PRIMARY KEY(ID)
, FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(ID)
, FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO(ID)
);


